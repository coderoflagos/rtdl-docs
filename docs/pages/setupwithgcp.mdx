# rtdl Setup with GCP ü§∑üèΩ‚Äç‚ôÇÔ∏è

The Google Cloud Storage (GCS) destination puts the raw logs of the data Segment receives into your GCS bucket. The data is copied into your bucket at least every hour. You might see multiple files over a period of time depending on how much data is copied.

**Note**: The GCS destination is currently in beta, and does not support product features such as deletions, replays, or surfacing errors in the UI.

## Getting Started

- Create a Service Account to allow Segment to copy files into the bucket

- Create a bucket in your preferred region.

## Set up a Google Cloud Bucket for Segment to Copy Objects 

- Once the Google Cloud Storage Bucket and Service Account are created, a destination that will send data files to the bucket must be configured:

- In the Segment Destinations section, click Add Destination. You will be redirected to our Catalog.
- Search for ‚ÄúGoogle Cloud Storage‚Äù, and click the destination in the catalog.
- Click Configure Google Cloud Storage.
- Select the source you want to send to this destination.
- Enter the values for the settings below:
 - **Bucket**: The name of the bucket you created on the Google Cloud Storage Console.
 - **GCS Credentials**: Copy and paste the contents of the credentials (Private Key) file that downloaded to your computer when you created the Google Cloud Service Account. This grants access so Segment can upload raw data files to your bucket.
 
- Click on the toggle to enable your Destination.

## Set up a Google Cloud Bucket for Segment to Copy Objects

To receive raw data files from Segment, you must first provide a Google Cloud Storage bucket that can store the raw data files:

- Go to https://cloud.google.com/storage

- Click **GO TO CONSOLE**.

- Select a project.

- Click **CREATE BUCKET**.

- In the Name field, enter a name for your bucket. Any name will work here, but we recommend that include the word ‚Äúsegment‚Äù, for example: ``my-segment-data``.

- In the Storage Class field, we recommend ``Multi-Regional``

- In the Access Control field, choose ``Set object-level and bucket-level permissions``

- No Advanced Options are necessary. Click **Create** to finish creating the bucket.

- Click the tab **PERMISSIONS** to show bucket permissions.

- Click **ADD MEMBERS**.

- In the **NEW MEMBERS** text input, enter the email address associated with the Service Account we created.

- Click **SELECT A ROLE**. Select the **STORAGE OBJECT ADMIN** role. This gives the Service Account read/write access to objects in this bucket only. We require Object Admin access in order to overwrite existing files. Overwriting is required when running replays or in cases of failure handling.

- Click **SAVE**.

## Set up a Google Cloud Bucket for Segment to Copy Objects

- Go to http://cloud.google.com/iam

- Click `VIEW CONSOLE`.

- Select a project to which you would like to send Segment data

- In the sidebar, click **Service Accounts**

- Click **CREATE SERVICE ACCOUNT**.

- In the **Name field**, give your service account a name, for example, Segment Upload Objects.

- In the **Description** field, enter a description that will remind you the purpose of the role. For example, ``This role gives Segment access to upload raw data files to our bucket``.

- Click **CREATE**.

- Click **CONTINUE** to skip adding Service Account Permissions. We will add permissions directly to the bucket instead.

- Click **CREATE KEY**.
- Select Key Type ``JSON``.

- Click **CREATE** to create the key. A key downloads to your computer. You‚Äôll use this key when creating the Segment Google Cloud Storage Destination. Keep it in a safe place.
- Click on **DONE** to finish creating your Service Account

